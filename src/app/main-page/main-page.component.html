<app-header></app-header>


<span style="display: inline-block; position: absolute; padding: 5px; color: #555; font-size: 10px; top: -8px;">Version:
	{{appVersion}}</span>

<div style="display: table; position: absolute; left: 0; top: 0; height: 100%; width: 100%;">
	<div style="display: table-cell; vertical-align: middle; text-align: center;">
		<div
			style="max-width: 800px; display: block; margin-left: auto; margin-right: auto; padding-bottom: 60px; text-align: center;">
			<img id="spLogo" src="assets/graphics/images/superpowers.png" style="width: 100%;">

			<div *ngIf="!user || user.rank==0" style="padding: 10px; text-align: center;">
				<a routerLink="/info"><button type="button" class="btn btn-primary roundButton tall"><i
							class="fa fa-book"></i>
						Rules & Info</button></a>
			</div>

			<div class="container-fluid" style="text-align: center;" *ngIf="!showVideoPlayerFlg">
				<div class="row">
					<div class="col-sm-6" style="padding: 0;">




						<img (mousedown)="singlePlayerGame()" class="shadowed main-page-item"
							src="assets/graphics/buttons/singleButton.png" title="Single Player">
						<div *ngIf="singleGameId>0"
							style="color: #337ab7; margin-top: -15px; z-index: 100; font-size: 12px;">
							<b>Game in Progress!</b>
						</div>

					</div>



					<div class="col-sm-6" style="padding: 0;">

						<img (mousedown)="multiplayGameClicked(loginPopup)" class="shadowed main-page-item"
							src="assets/graphics/buttons/multiButton.png" title="Multi-Player Games">

						<div *ngIf="user && user.gamesTurn > 0"
							style="color: #337ab7; margin-top: -15px; z-index: 100; font-size: 12px;"><b>Your turn in
								{{user.gamesTurn}} games!</b>
						</div>

					</div>
				</div>
			</div>

			<div *ngIf="!promoVideoWatched" class="borderClass2">
				<div><b>Welcome to Superpowers!</b></div>
				Check out the Boardgame Hacker video below to get a quick overview!
			</div>

			<div *ngIf="0" style="display: inline-block; border: 1px solid gray; width: 100%; max-width: 400px;">
				<div style="text-align: center; font-size: 12px; color: gray;">Google Ads</div>
				<ins class="adsbygoogle" style="display:block;" data-ad-client="ca-pub-2626924352662007"
					data-ad-slot="3410873039" data-ad-format="auto" data-full-width-responsive="true"></ins>
			</div>
		</div>
	</div>
</div>

<div *ngIf="showInstallFlg" style="display: table; position: absolute; left: 0; top: 0; height: 100%; width: 100%;">
	<div style="display: table-cell; vertical-align: middle; text-align: center;">
		<div class="signupWindow"
			style="max-width: 800px; display: block; margin-left: auto; margin-right: auto; padding-bottom: 60px; text-align: center; background-color: #ccc;">
			<button (mousedown)="showInstallFlg=false" class="btn btn-primary" style="float: right;"><i
					class="fa fa-times"></i></button>

			<p>Get the app for free today!</p>

			<a href="https://apps.apple.com/us/app/superpowers-game/id539807409">
				<img src="assets/graphics/appStore1.png" height="44">
			</a>&nbsp;

			<a href="https://play.google.com/store/apps/details?id=com.mydomain.superpowers">
				<img src="assets/graphics/appStore2.png" height="44">
			</a>

		</div>
	</div>
</div>

<div *ngIf="showVideosFlg" style="display: table; position: absolute; left: 0; top: 0; height: 100%; width: 100%;">
	<div style="display: table-cell; vertical-align: middle; text-align: center;">
		<div class="signupWindow"
			style="max-width: 800px; display: block; margin-left: auto; margin-right: auto; padding-bottom: 60px; text-align: center; background-color: #ccc;">
			<button (mousedown)="showVideosFlg=false" class="btn btn-primary" style="float: right;"><i
					class="fa fa-times"></i></button>

			<p>Check out these videos to understand the game.</p>

			<button (mousedown)="playYouTubeVideo()" type="button" class="btn btn-secondary roundButton glowBlue"><i
					class="fa fa-play"></i>
				Board Game Hackers Video
			</button>
			<button (mousedown)="playVideo(1)" type="button" class="btn btn-secondary roundButton"><i
					class="fa fa-play"></i>
				Intro</button>

			<button (mousedown)="playVideo(2)" type="button"
				class="btn btn-secondary roundButton"><i class="fa fa-play"></i>
				Gameplay
			</button>

		</div>
	</div>
</div>



<div class="bottom-bar">

	<button *ngIf="user.userId > 0" (mousedown)="userPopup.show(user)" type="button"
		class="btn btn-primary roundButton">
		<i class="fa fa-user"></i>
		<span style="padding: 5px;">Profile</span>
	</button>
	<span *ngIf="user.userId == 0" class="whiteLink" (mousedown)="multiplayGameClicked(loginPopup)">
		Login
	</span>
	<button (mousedown)="showInstallFlg = !showInstallFlg" type="button" class="btn btn-primary roundButton"><i
			class="fa fa-mobile"></i> Download
	</button>
	<button (mousedown)="showVideosFlg = !showVideosFlg" type="button" class="btn btn-primary roundButton"><i
			class="fa fa-play"></i> Videos
	</button>




</div>

<div *ngIf="showVideoPlayerFlg"
	style="position: absolute; left: 0; top: 0; text-align: center; width: 100%; z-index: 100; background-color: gray; padding-bottom: 50px; box-shadow: 5px 5px 10px #444;">


	<iframe *ngIf="showYouTubePlayerFlg" style="width: 100%; min-height: 480px;"
		src="https://www.youtube.com/embed/m4teSllXKgM" title="YouTube video player" frameborder="0"
		allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
		allowfullscreen></iframe>


	<video *ngIf="!showYouTubePlayerFlg" id="mainVideo"
		style="width: 100%; height: auto; min-width: 480px; min-height: 320px;">
		<source src="http://www.superpowersgame.com/superpowers480.mov" type="video/mp4">
	</video>
	<div>
		<button (mousedown)="turnOffVideo()" type="button" class="btn btn-secondary roundButton"><i
				class="fa fa-times"></i>
			Cancel
		</button>
	</div>
	<button (mousedown)="turnOffVideo()" type="button" class="btn btn-secondary roundButton"
		style="z-index: 1000; position: fixed; top: 0; left: 0;"><i class="fa fa-times"></i>
	</button>
</div>

<!-------popups------------------>

<div class="popupScreenNoPad" style="width: 280px; z-index: 5;" id="continueGamePopup">
	<img src="assets/graphics/advisors/leader.png" height=170 onClick="closePopup('continueGamePopup')">
	<div style="font-size: 24px;">Game in Progress!</div>
	<div>You have a single player game in progress.</div>
	<button (mousedown)="startSPGame(1)" type="button"
		class="btn btn-secondary roundButton tall glowButton">Continue</button>
	<button (mousedown)="startSPGame(2)" type="button" class="btn btn-primary roundButton">Start New Game</button>
</div>
<div class="popupMain" style="width: 280px; z-index: 5; background-image: url('assets/graphics/misc/popup2.png');"
	id="initPopup" onClick="closePopup('initPopup')">
	<div style="padding: 5px;" *ngIf="user">
		<img *ngIf="!user.newRankFlg" src="assets/graphics/advisors/leader.png" height=170>
		<div *ngIf="user.rank == 0">
			Welcome newbie! Want to take over the world? Yes, of course you do! Press 'Basic Training' to get started!
		</div>
		<div *ngIf="user.rank == 1">
			Nice work! Press 'Basic Training' to continue with your training!
		</div>
		<div *ngIf="user.rank == 2">Congratulations! You can now continue with your training, or try multi-player!</div>
		<div *ngIf="user.gamesTurn>0">It's your turn in {{user.gamesTurn}} of the multi-player games!</div>
		<div *ngIf="user.newGameCount>0">New multiplayer game has started!</div>
		<div *ngIf="user.endGameCount>0">One of your multi-player Games has ended!</div>

		<div *ngIf="user.newRankFlg">
			<img src="assets/graphics/misc/crowdCheer.jpg" width="100%">
			<table width=95%>
				<tr>
					<td><img src="assets/graphics/misc/trophy.png" width="75"></td>
					<td>
						<div>You have been promoted!</div>
					</td>
					<td><img src="assets/graphics/ranks/rank{{user.rank}}.png"
							style="max-width: 75px; max-height: 100px;">
						<div style="font-size: 12px; font-weight: 700;">{{yourRankName}}</div>
					</td>
				</tr>
			</table>
			<div class="borderClass2"> Next Rank: <img src="assets/graphics/ranks/rank{{user.rank+1}}.png" height="22">
				{{yourNextRankName}}
				<div style="font-size: 12px;">{{yourNextRankDesc}}</div>
			</div>
		</div>

		<div *ngIf="user.newEmpFlg">
			<img class="shadowed" src="assets/graphics/units/emp.png" title="Matchmaking" height="200">
			<div>You have earned a new EMP! These can be used in matchmaking games only. Check out the units page to
				see
				how they work.</div>
		</div>
		<div><button type="button" class="btn btn-primary roundButton medium">Got it!</button>
		</div>
	</div>
</div>

<app-login-popup #loginPopup (messageEvent)="userUpdated($event)"></app-login-popup>
<app-user-popup #userPopup [user]="user" (messageEvent)="userUpdated($event)"></app-user-popup>
<app-home-screen-popup #homeScreenPopup></app-home-screen-popup>