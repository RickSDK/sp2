<app-header></app-header>


<div style="max-width: 800px; display: block; margin-left: auto; margin-right: auto; text-align: center;">
	<img id="spLogo" src="assets/graphics/images/superpowers.png" title="Superpowers!" style="width: 100%;">
	<div class="container-fluid" style="text-align: center;">
		<div class="row">
			<div class="col-sm-4" style="padding: 0;">


				<img (click)="singlePlayerGame(startGamePopup)" class="shadowed"
					src="assets/graphics/buttons/singleButton.png" height="220" style="cursor: pointer;">

				<div *ngIf="singleGameId>0" style="color: #337ab7; margin-top: -20px; z-index: 100; font-size: 12px;"><b>Game in Progress!</b></div>

				<button *ngIf="0" (click)="multiplayGameClicked(loginPopup)" type="button"
					class="btn btn-primary circleButton"
					style="width: 180px; height: 180px; background-size: cover; background-image: url('assets/graphics/buttons/multiplayer.png'); background-position: center; background-size: cover;">
				</button>

			</div>
			<div class="col-sm-4" style="padding-top: 10px;">

				<div *ngIf="user" class="spCard" style="cursor: pointer;" (click)="userPopup.show()">
					<div>
						<div class="spTitle" style="height: 32px;">
							<img src="{{user.imgSrc}}" style="height: 32px; max-width: 44px; float: left;">
							<span style="padding: 5px;">{{user.userName}}</span>
							<img style="float: right;" *ngIf="user.empCount>0" src="assets/graphics/units/piece52u.png"
								height=25>
							<img style="float: right;" *ngIf="user.empCount>1" src="assets/graphics/units/piece52u.png"
								height=25>
							<i class="fa fa-pencil-square-o"
								style="float: right; padding-right: 5px; padding-top: 3px;"></i>
						</div>
						<div style="padding: 5px; background-color: white;">
							<div style="font-size: 14px;"><img src="assets/graphics/ranks/rank{{user.rank}}.png"
									style="max-height: 45px; max-width: 120px;"
									title="{{superpowersData.ranks[user.rank].name}}"></div>
						</div>
						<div *ngIf="superpowersData" style="background-color: #444; color: white;">
							{{superpowersData.ranks[user.rank].name}}
						</div>
					</div>
				</div>
				<div>
					<a routerLink="/info"><button type="button" class="btn btn-primary roundButton"><i
								class="fa fa-info-circle"></i> Info & Rules </button></a>
					<!--<span *ngIf="owner_flg"><a href="#!userStats"><button type="button" class="btn btn-primary roundButton"><i class="fa fa-user"></i> User Stats</button></a> </span>-->
					<!--<span *ngIf="showInstallButton && user.rank<5"><button type="button" class="btn ptp-gray roundButton"><i class="fa fa-map-pin"></i> Install/Setup</button></span>-->
					<!--<a href="#!forum" *ngIf="0"><button type="button" class="btn btn-primary roundButton"><i class="fa fa-comment"></i> Forum <span *ngIf="forumCount>0">({{forumCount}})</span></button></a>-->
					<!--<a href="https://itunes.apple.com/us/app/superpowers-game/id539807409?ls=1&mt=8" *ngIf="user.rank==0"><img src="graphics/misc/iosAppStore.png" width=150></a>
			<a href="https://play.google.com/store/apps/details?id=com.superpowersgame" *ngIf="user.rank==0"><img src="graphics/misc/googlePlay.png" width=150></a>	-->
				</div>


			</div>
			<div class="col-sm-4" style="padding: 0;">

				<img (click)="multiplayGameClicked(loginPopup)" class="shadowed"
					src="assets/graphics/buttons/multiButton.png" height="220" style="cursor: pointer;">


				<button *ngIf="0" (click)="singlePlayerGame(startGamePopup)" type="button"
					class="btn btn-primary circleButton"
					style="width: 180px; height: 180px; background-image: url('assets/graphics/buttons/singlePlayer.png'); background-position: center; background-size: cover;">
				</button>


			</div>
		</div>
	</div>
</div>

<app-rules-popup #rulesPopup></app-rules-popup>
<app-login-popup #loginPopup (messageEvent)="userUpdated($event)"></app-login-popup>
<app-user-popup #userPopup [user]="user" (messageEvent)="userUpdated($event)"></app-user-popup>
<app-scoreboard-popup #scoreboardPopup></app-scoreboard-popup>
<app-start-game-popup #startGamePopup></app-start-game-popup>